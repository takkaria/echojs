$primary-colour: #8fbc8f;

////////// BOOTSTRAP //////////

// List of variables here: http://getbootstrap.com/customize/#less-variables
$navbar-default-bg: $primary-colour;
$navbar-default-color: black;
$navbar-default-link-color: $navbar-default-color;

@import "bootstrap";

// Material Design shadow depths
%shadow-depth-1 { box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.16), 0 2px 5px 0 rgba(0, 0, 0, 0.26); }
%shadow-depth-2 { box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.19), 0 8px 17px 0 rgba(0, 0, 0, 0.2); }
%shadow-depth-3 { box-shadow: 0 17px 50px 0 rgba(0, 0, 0, 0.19), 0 12px 15px 0 rgba(0, 0, 0, 0.24); }
%shadow-depth-4 { box-shadow: 0 25px 55px 0 rgba(0, 0, 0, 0.21), 0 16px 28px 0 rgba(0, 0, 0, 0.22); }
%shadow-depth-5 { box-shadow: 0 40px 77px 0 rgba(0, 0, 0, 0.22), 0 27px 24px 0 rgba(0, 0, 0, 0.2); }

////////// GLOBAL STYLES //////////

h1, h2, h3, h4, h5, h6, nav { font-family: "Raleway"; }
h2 { font-weight: bold; }
nav.navbar-default { border-bottom-width: 2px; border-radius: 0; border-bottom-color: black; }
footer { text-align: center; background-color: #eee; padding: 5px 0; margin: 1em 0; }
footer p { margin-bottom: 0; font-size: 85%; }

#map-canvas { width: 100%; height: 300px; }

// This makes scrolling to the bottom feel a bit more satisfying
footer { margin-bottom: 3em; }

.leftcontent {
	@extend .col-md-8;
	@extend .col-sm-7;
}

.rightcontent {
	@extend .col-md-4;
	@extend .col-sm-5;
}

// Generic effects we might want to re-use
.box {
	border: 1px solid #eee;
	@extend %shadow-depth-1;
	margin-bottom: 20px;

	& > * { padding-left: 15px; padding-right: 15px; }

	.foot {
		background-color: #eee;
		margin-bottom: 0; // We want this to extend to the bottom of the box
		padding-top: 10px;
		padding-bottom: 10px;
	}

	.limit {
		min-height: $line-height-computed * 2;
	}
}

// Separate from 'box' because it might not always be desirable
%boxhover {
	&:hover {
		a { text-decoration: none; }
		background-color: #eee; cursor: pointer;
	}
}

.event-box {
	@extend .box;
	@extend %boxhover;

	.head { color: #555; padding-top: 10px; }
	.host { color: #555; font-style: italic; }
	.foot {
		i { margin-left: -20px; }

		padding-left: 30px; // This 30px and the -20px above match up
	}
}

////////// INDIVIDUAL PAGE STYLES //////////

// index.html
.index {
	ul.news {
		clear: both; margin-left: 0; padding-left: 1em;
		li { margin-bottom: 0.5em; }
	}

	.add-yours {
		@extend .box;
		@extend %boxhover;

		// NB: Bootstrap applies also 10px bottom margin
		p { text-align: center; line-height: 100px; font-size: 200%; } 

		a { color: #555; }
		&:hover a { color: #337ab7; } // FIXME: colour should use the var for anchor colour
	}
}

// events.html

.event_calendar #popup {
	.event-box { @extend %shadow-depth-3; }
	position: absolute;
	width: 380px;
	z-index: 99;
	background-color: white;
}

// event_[add|edit].html

.event_form {

	// Some styling to get the input element to appear correctly
	// This bit is just kind of gross but required cos of the way typeahead.js works :(
	span.twitter-typeahead {
		width: 100%;
		display: table-cell !important;	// If we don't !important, it gets overriden by script

		input#location_text { // This much specificity overrides Bootstrap
			border-radius: $border-radius-base;
			@include border-left-radius(0);
		}
	}

	.tt-dropdown-menu {
		background-color: white; border: 1px solid #aaa; width: 500px;
		p { margin: 0; padding: 10px; }
	}

	.tt-suggestion.tt-cursor { background-color: #ddd; }
	.tt-selected { background-color: lighten($brand-success, 40%) !important; }
}

// event_page.html
.event h2 { margin-top: 0; }

div.img {
  background: url("http://api.ning.com/files/a8yFieGq6xqi92JtUXmbI7z6w59H2RKgNzMtZtvq2MaNfpzVwuExGqJ4iZ1lvscEZ8jebnC8V5wMpK*6yLPJWzMyvMR1oCVC/223470_1031354102634_1188814802_30087004_1015_n2.jpg")
    #eee no-repeat;
  background-size: cover;
  height: 150px;
}

// login.html
#loginbox { margin-top: 2em; margin-bottom: 6em; }

// locations.html
.locations {
	td:nth-child(2) { min-width: 11em; }
	td h4 { margin-top: 0; }
}
